<source>
  @type tail
  @id in_tail_container_logs
  path "/var/log/containers/*.log"
  pos_file "/var/log/fluentd-containers.log.pos"
  tag "kubernetes.*"
  exclude_path []
  read_from_head true
  <parse>
    @type "json"
    time_format "%Y-%m-%dT%H:%M:%S.%NZ"
    unmatched_lines
    time_type string
  </parse>
</source>
<source>
  @type tail
  @id in_tail_docker
  path "/var/log/docker.log"
  pos_file "/var/log/fluentd-docker.log.pos"
  tag "docker"
  <parse>
    @type "regexp"
    expression /^time="(?<time>[^)]*)" level=(?<severity>[^ ]*) msg="(?<message>[^"]*)"( err="(?<error>[^"]*)")?( statusCode=($<status_code>\d+))?/
    unmatched_lines
  </parse>
</source>
